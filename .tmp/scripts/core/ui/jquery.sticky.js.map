{"version":3,"sources":["core/ui/jquery.sticky.js"],"names":["factory","define","amd","module","exports","require","jQuery","$","slice","Array","prototype","splice","defaults","topSpacing","bottomSpacing","className","wrapperClassName","center","getWidthFrom","widthFromWrapper","responsiveWidth","zIndex","$window","window","$document","document","sticked","windowHeight","height","scroller","scrollTop","documentHeight","dwh","extra","i","l","length","s","elementTop","stickyWrapper","offset","top","etse","css","stickyElement","outerHeight","currentTop","parent","removeClass","trigger","newTop","newWidth","width","addClass","stickyWrapperContainer","unstick","resizer","methods","init","options","each","o","extend","stickyId","attr","wrapperId","wrapper","wrapAll","outerWidth","marginLeft","marginRight","push","setWrapperHeight","setupChangeListeners","element","MutationObserver","mutationObserver","mutations","addedNodes","removedNodes","observe","subtree","childList","addEventListener","attachEvent","update","that","unstickyElement","removeIdx","get","call","unwrap","fn","sticky","method","apply","arguments","error","setTimeout"],"mappings":"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","file":"jquery.sticky.js","sourcesContent":["// Sticky Plugin v1.0.4 for jQuery\n// =============\n// Author: Anthony Garand\n// Improvements by German M. Bravo (Kronuz) and Ruud Kamphuis (ruudk)\n// Improvements by Leonardo C. Daronco (daronco)\n// Created: 02/14/2011\n// Date: 07/20/2015\n// Website: http://stickyjs.com/\n// Description: Makes an element on the page stick on the screen as you scroll\n//              It will only set the 'top' and 'position' of your element, you\n//              might need to adjust the width in some cases.\n\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node/CommonJS\n        module.exports = factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n    var slice = Array.prototype.slice; // save ref to original slice()\n    var splice = Array.prototype.splice; // save ref to original slice()\n\n  var defaults = {\n      topSpacing: 0,\n      bottomSpacing: 0,\n      className: 'is-sticky',\n      wrapperClassName: 'sticky-wrapper',\n      center: false,\n      getWidthFrom: '',\n      widthFromWrapper: true, // works only when .getWidthFrom is empty\n      responsiveWidth: false,\n      zIndex: 'auto'\n    },\n    $window = $(window),\n    $document = $(document),\n    sticked = [],\n    windowHeight = $window.height(),\n    scroller = function() {\n      var scrollTop = $window.scrollTop(),\n        documentHeight = $document.height(),\n        dwh = documentHeight - windowHeight,\n        extra = (scrollTop > dwh) ? dwh - scrollTop : 0;\n\n      for (var i = 0, l = sticked.length; i < l; i++) {\n        var s = sticked[i],\n          elementTop = s.stickyWrapper.offset().top,\n          etse = elementTop - s.topSpacing - extra;\n\n        //update height in case of dynamic content\n        s.stickyWrapper.css('height', s.stickyElement.outerHeight());\n\n        if (scrollTop <= etse) {\n          if (s.currentTop !== null) {\n            s.stickyElement\n              .css({\n                'width': '',\n                'position': '',\n                'top': '',\n                'z-index': ''\n              });\n            s.stickyElement.parent().removeClass(s.className);\n            s.stickyElement.trigger('sticky-end', [s]);\n            s.currentTop = null;\n          }\n        }\n        else {\n          var newTop = documentHeight - s.stickyElement.outerHeight()\n            - s.topSpacing - s.bottomSpacing - scrollTop - extra;\n          if (newTop < 0) {\n            newTop = newTop + s.topSpacing;\n          } else {\n            newTop = s.topSpacing;\n          }\n          if (s.currentTop !== newTop) {\n            var newWidth;\n            if (s.getWidthFrom) {\n                newWidth = $(s.getWidthFrom).width() || null;\n            } else if (s.widthFromWrapper) {\n                newWidth = s.stickyWrapper.width();\n            }\n            if (newWidth == null) {\n                newWidth = s.stickyElement.width();\n            }\n            s.stickyElement\n              .css('width', newWidth)\n              .css('position', 'fixed')\n              .css('top', newTop)\n              .css('z-index', s.zIndex);\n\n            s.stickyElement.parent().addClass(s.className);\n\n            if (s.currentTop === null) {\n              s.stickyElement.trigger('sticky-start', [s]);\n            } else {\n              // sticky is started but it have to be repositioned\n              s.stickyElement.trigger('sticky-update', [s]);\n            }\n\n            if (s.currentTop === s.topSpacing && s.currentTop > newTop || s.currentTop === null && newTop < s.topSpacing) {\n              // just reached bottom || just started to stick but bottom is already reached\n              s.stickyElement.trigger('sticky-bottom-reached', [s]);\n            } else if(s.currentTop !== null && newTop === s.topSpacing && s.currentTop < newTop) {\n              // sticky is started && sticked at topSpacing && overflowing from top just finished\n              s.stickyElement.trigger('sticky-bottom-unreached', [s]);\n            }\n\n            s.currentTop = newTop;\n          }\n\n          // Check if sticky has reached end of container and stop sticking\n          var stickyWrapperContainer = s.stickyWrapper.parent();\n          var unstick = (s.stickyElement.offset().top + s.stickyElement.outerHeight() >= stickyWrapperContainer.offset().top + stickyWrapperContainer.outerHeight()) && (s.stickyElement.offset().top <= s.topSpacing);\n\n          if( unstick ) {\n            s.stickyElement\n              .css('position', 'absolute')\n              .css('top', '')\n              .css('bottom', 0)\n              .css('z-index', '');\n          } else {\n            s.stickyElement\n              .css('position', 'fixed')\n              .css('top', newTop)\n              .css('bottom', '')\n              .css('z-index', s.zIndex);\n          }\n        }\n      }\n    },\n    resizer = function() {\n      windowHeight = $window.height();\n\n      for (var i = 0, l = sticked.length; i < l; i++) {\n        var s = sticked[i];\n        var newWidth = null;\n        if (s.getWidthFrom) {\n            if (s.responsiveWidth) {\n                newWidth = $(s.getWidthFrom).width();\n            }\n        } else if(s.widthFromWrapper) {\n            newWidth = s.stickyWrapper.width();\n        }\n        if (newWidth != null) {\n            s.stickyElement.css('width', newWidth);\n        }\n      }\n    },\n    methods = {\n      init: function(options) {\n        return this.each(function() {\n          var o = $.extend({}, defaults, options);\n          var stickyElement = $(this);\n\n          var stickyId = stickyElement.attr('id');\n          var wrapperId = stickyId ? stickyId + '-' + defaults.wrapperClassName : defaults.wrapperClassName;\n          var wrapper = $('<div></div>')\n            .attr('id', wrapperId)\n            .addClass(o.wrapperClassName);\n\n          stickyElement.wrapAll(function() {\n            if ($(this).parent(\"#\" + wrapperId).length == 0) {\n                    return wrapper;\n            }\n});\n\n          var stickyWrapper = stickyElement.parent();\n\n          if (o.center) {\n            stickyWrapper.css({width:stickyElement.outerWidth(),marginLeft:\"auto\",marginRight:\"auto\"});\n          }\n\n          if (stickyElement.css(\"float\") === \"right\") {\n            stickyElement.css({\"float\":\"none\"}).parent().css({\"float\":\"right\"});\n          }\n\n          o.stickyElement = stickyElement;\n          o.stickyWrapper = stickyWrapper;\n          o.currentTop    = null;\n\n          sticked.push(o);\n\n          methods.setWrapperHeight(this);\n          methods.setupChangeListeners(this);\n        });\n      },\n\n      setWrapperHeight: function(stickyElement) {\n        var element = $(stickyElement);\n        var stickyWrapper = element.parent();\n        if (stickyWrapper) {\n          stickyWrapper.css('height', element.outerHeight());\n        }\n      },\n\n      setupChangeListeners: function(stickyElement) {\n        if (window.MutationObserver) {\n          var mutationObserver = new window.MutationObserver(function(mutations) {\n            if (mutations[0].addedNodes.length || mutations[0].removedNodes.length) {\n              methods.setWrapperHeight(stickyElement);\n            }\n          });\n          mutationObserver.observe(stickyElement, {subtree: true, childList: true});\n        } else {\n          if (window.addEventListener) {\n            stickyElement.addEventListener('DOMNodeInserted', function() {\n              methods.setWrapperHeight(stickyElement);\n            }, false);\n            stickyElement.addEventListener('DOMNodeRemoved', function() {\n              methods.setWrapperHeight(stickyElement);\n            }, false);\n          } else if (window.attachEvent) {\n            stickyElement.attachEvent('onDOMNodeInserted', function() {\n              methods.setWrapperHeight(stickyElement);\n            });\n            stickyElement.attachEvent('onDOMNodeRemoved', function() {\n              methods.setWrapperHeight(stickyElement);\n            });\n          }\n        }\n      },\n      update: scroller,\n      unstick: function(options) {\n        return this.each(function() {\n          var that = this;\n          var unstickyElement = $(that);\n\n          var removeIdx = -1;\n          var i = sticked.length;\n          while (i-- > 0) {\n            if (sticked[i].stickyElement.get(0) === that) {\n                splice.call(sticked,i,1);\n                removeIdx = i;\n            }\n          }\n          if(removeIdx !== -1) {\n            unstickyElement.unwrap();\n            unstickyElement\n              .css({\n                'width': '',\n                'position': '',\n                'top': '',\n                'float': '',\n                'z-index': ''\n              })\n            ;\n          }\n        });\n      }\n    };\n\n  // should be more efficient than using $window.scroll(scroller) and $window.resize(resizer):\n  if (window.addEventListener) {\n    window.addEventListener('scroll', scroller, false);\n    window.addEventListener('resize', resizer, false);\n  } else if (window.attachEvent) {\n    window.attachEvent('onscroll', scroller);\n    window.attachEvent('onresize', resizer);\n  }\n\n  $.fn.sticky = function(method) {\n    if (methods[method]) {\n      return methods[method].apply(this, slice.call(arguments, 1));\n    } else if (typeof method === 'object' || !method ) {\n      return methods.init.apply( this, arguments );\n    } else {\n      $.error('Method ' + method + ' does not exist on jQuery.sticky');\n    }\n  };\n\n  $.fn.unstick = function(method) {\n    if (methods[method]) {\n      return methods[method].apply(this, slice.call(arguments, 1));\n    } else if (typeof method === 'object' || !method ) {\n      return methods.unstick.apply( this, arguments );\n    } else {\n      $.error('Method ' + method + ' does not exist on jQuery.sticky');\n    }\n  };\n  $(function() {\n    setTimeout(scroller, 0);\n  });\n}));\n"]}