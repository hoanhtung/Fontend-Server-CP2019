{"version":3,"sources":["tungJS.js"],"names":["EBSMSLocal","loadSurgeryRoom","surgeryDay","strAppend1","divRoom","$","empty","ajax","url","method","success","room","index","name","id","data","roomId","dayNumber","shift","strAppend2","length","firstEstimatedStart","estimatedStartDateTime","firstEstimatedEnd","estimatedEndDateTime","firstActualStart","actualStartDateTime","firstActualEnd","actualEndDateTime","estimatedStart","Date","estimatedEnd","actualStart","actualEnd","shiftId","statusName","catalogName","patientName","undefined","convertDateToTime","priorityNumber","formatStringtoDateTimeString","append","loadNewSurgeryRoom","startSurgeryShift","actualStartTime","convertDateToNumber","val","refreshSchedule","surgeryShiftId","setPostStatus","actualEndTime","roomPost","bedPost","nurseId","children","attr","SetFinishedStatus","appendIntraSurgeryShiftId","start","end","html","split","appendPostSurgeryShiftId","getNurse","LoadSurgeryShiftByRoomAndDate","strAppend","catelogName","loadSurgeryShiftDetail","console","log","gender","age","speciality","surgeryName","surgeryType","startTime","endTime","procedure","last","makeSchedule","window","location","href","loadSurgeryShiftNoSchedule","div_shift","container","i","confirmDate","proposedStartDateTime","proposedEndDateTime","scheduleDate","expectedSurgeryDuration","checkSetPostStatus","surgeryId","show","hide","CheckRecoveryStatus","appendChangeInfoShift","getScheduleByDay","date","AddEmergencyShift","startDatetime","endDatetime","dataType","contentType","JSON","stringify","alert"],"mappings":"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","file":"tungJS.js","sourcesContent":["//Get room show UI\r\n// var EBSMSLocal = 'http://45.119.212.145:5520';\r\n// var EBSMSLocal = 'http://10.82.139.179:5000';\r\n// var EBSMSLocal = 'http://172.20.10.7:5000';\r\nvar EBSMSLocal = 'https://localhost:44372';\r\n\r\nfunction loadSurgeryRoom(surgeryDay) {\r\n    var strAppend1 = '';\r\n    var divRoom = $('#row-surgery-room');\r\n    divRoom.empty();\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryRooms/',\r\n        method: 'get',\r\n        success: function(room) {\r\n            for (let index = 0; index < room.length; index++) {\r\n                strAppend1 += '<div class=\"div-roomHeaderItem\"><div class=\"div-room-name\">' \r\n                + room[index].name + '</div><div id =\"header-room-' + room[index].id + '\"></div>';\r\n                $.ajax({\r\n                    url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftsByRoomAndDate/',\r\n                    method: 'get',\r\n                    data: { roomId: room[index].id, dayNumber: surgeryDay},\r\n                    success: function(shift) {\r\n                        var strAppend2 = '';\r\n                        for (let index = 0; index < shift.length; index++) {\r\n                            var firstEstimatedStart = shift[index].estimatedStartDateTime;\r\n                            var firstEstimatedEnd = shift[index].estimatedEndDateTime;\r\n                            var firstActualStart = shift[index].actualStartDateTime\r\n                            var firstActualEnd = shift[index].actualEndDateTime\r\n\r\n                            var estimatedStart = new Date(firstEstimatedStart);\r\n                            var estimatedEnd = new Date(firstEstimatedEnd);\r\n                            var actualStart = new Date(firstActualStart);\r\n                            var actualEnd = new Date(firstActualEnd);\r\n                            \r\n                            var shiftId = shift[index].id;\r\n                            if (shift[index].statusName == 'Postoperative') {\r\n                                strAppend2 += '<div style=\"background-color: #b2bec3\" class=\"div-roomBodyItem\">';\r\n                            } else if (shift[index].statusName == 'Intraoperative') {\r\n                                strAppend2 += '<div style=\"background-color: #ffeaa7\" class=\"div-roomBodyItem\">';\r\n                            }\r\n                            else {\r\n                                strAppend2 += '<div class=\"div-roomBodyItem\">';\r\n                            }   \r\n                            strAppend2 += '<div class=\"info-shift\"><div>';\r\n                            if (shift[index].statusName != 'Intraoperative' && shift[index].statusName != 'Postoperative') {\r\n                                strAppend2 += '<input name=\"swapChk\" type=\"checkbox\" value=\"' + shiftId  + '\" />';\r\n                            }\r\n                            strAppend2 += '<b>' + shiftId + '</b></div>' +\r\n                            '<div><b>' + shift[index].catalogName + '</b></div>' +\r\n                            '<div><b>Patient:</b> ' +  shift[index].patientName + '</div>' +\r\n                            '<div><b>Time:</b> ';\r\n                            if (firstActualStart == undefined) {\r\n                                strAppend2 += convertDateToTime(estimatedStart);\r\n                            } else {\r\n                                strAppend2 += convertDateToTime(actualStart);\r\n                            }\r\n                            strAppend2 += ' - ';\r\n                            if (firstActualEnd == undefined) {\r\n                                strAppend2 += convertDateToTime(estimatedEnd);\r\n                            } else {\r\n                                strAppend2 += convertDateToTime(actualEnd);\r\n                            }\r\n                            strAppend2 += '</div></div>' +\r\n                            '<div class=\"mybuttonoverlap\">' +\r\n                            '<a data-toggle=\"tooltip\" title=\"View\" href=\"./viewScheduleItem.html?id=' + shiftId + '\" class=\"btn btn-info\"><i class=\"far fa-eye\"/></a>';\r\n                            if (shift[index].statusName == 'Preoperative') {\r\n                                strAppend2 += '<a id=\"changeScheduleA\" title=\"Change\" href=\"javascript:void(0)\" class=\"btn btn-primary\" data-priority=\"' + shift[index].priorityNumber +\r\n                                '\" data-schedule-index=\"' + shiftId + '\" data-start-datetime=\"' + formatStringtoDateTimeString(firstEstimatedStart) + '\" data-end-datetime=\"' + formatStringtoDateTimeString(firstEstimatedEnd) + '\" ' +\r\n                                'data-toggle=\"modal\" data-target=\"#changeTimeModal\"><i class=\"far fa-edit\"/></a>' +\r\n                                '<button title=\"Begin\" data-toggle=\"modal\" data-target=\"#changeIntraStatusModal\" class=\"btn btn-success\" onclick=\"appendIntraSurgeryShiftId(' + shiftId + ', \\'' + firstEstimatedStart + '\\', \\'' + firstEstimatedEnd + '\\')\">' + \r\n                                '<i class=\"fas fa-procedures\"></i></button>' +\r\n                                '</div>';\r\n                            }\r\n                            else if (shift[index].statusName == 'Intraoperative') {\r\n                                strAppend2 += '<button title=\"Complete\" class=\"btn btn-success\" onclick=\"appendPostSurgeryShiftId(' + shiftId + ', \\'' + firstActualStart + '\\', \\'' + firstEstimatedEnd + '\\')\" data-toggle=\"modal\" data-target=\"#changePostStatusModal\">' + \r\n                                '<i style=\"color: white\" class=\"far fa-check-square\"></i></button>' +\r\n                                '</div>';\r\n                            } else {\r\n                                strAppend2 += '</div>';\r\n                            }\r\n                            strAppend2 += '</div></a>';\r\n                        }\r\n                        $('#header-room-' + room[index].id).append(strAppend2);\r\n                    }\r\n                });\r\n                strAppend1 += '</div>';\r\n            }\r\n            divRoom.append(strAppend1);\r\n        }\r\n    });\r\n}\r\n\r\nfunction loadNewSurgeryRoom(surgeryDay) {\r\n    var strAppend1 = '';\r\n    var divRoom = $('#row-surgery-room');\r\n    divRoom.empty();\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryRooms/',\r\n        method: 'get',\r\n        success: function(room) {\r\n            for (let index = 0; index < room.length; index++) {\r\n                strAppend1 += '<div class=\"div-roomHeaderItem\"><div class=\"div-room-name\">' \r\n                + room[index].name + '</div><div id =\"header-room-' + room[index].id + '\"></div>';\r\n                $.ajax({\r\n                    url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftsByRoomAndDate/',\r\n                    method: 'get',\r\n                    data: { roomId: room[index].id, dayNumber: surgeryDay},\r\n                    success: function(shift) {\r\n                        var strAppend2 = '';\r\n                        for (let index = 0; index < shift.length; index++) {\r\n                            var firstEstimatedStart = shift[index].estimatedStartDateTime;\r\n                            var firstEstimatedEnd = shift[index].estimatedEndDateTime;\r\n                            var firstActualStart = shift[index].actualStartDateTime\r\n                            var firstActualEnd = shift[index].actualEndDateTime\r\n\r\n                            var estimatedStart = new Date(firstEstimatedStart);\r\n                            var estimatedEnd = new Date(firstEstimatedEnd);\r\n                            var actualStart = new Date(firstActualStart);\r\n                            var actualEnd = new Date(firstActualEnd);\r\n                            \r\n                            var shiftId = shift[index].id;\r\n                            if (shift[index].statusName == 'Postoperative') {\r\n                                strAppend2 += '<div style=\"background-color: #b2bec3\" class=\"div-roomBodyItem\">';\r\n                            } else if (shift[index].statusName == 'Intraoperative') {\r\n                                strAppend2 += '<div style=\"background-color: #ffeaa7\" class=\"div-roomBodyItem\">';\r\n                            }\r\n                            else {\r\n                                strAppend2 += '<div class=\"div-roomBodyItem\">';\r\n                            }   \r\n                            strAppend2 += '<div class=\"info-shift\"><div>';\r\n                            if (shift[index].statusName != 'Intraoperative' && shift[index].statusName != 'Postoperative') {\r\n                                strAppend2 += '<input name=\"swapChk\" type=\"checkbox\" value=\"' + shiftId  + '\" />';\r\n                            }\r\n                            strAppend2 += '<b>' + shiftId + '</b></div>' +\r\n                            '<div><b>' + shift[index].catalogName + '</b></div>' +\r\n                            '<div><b>Patient:</b> ' +  shift[index].patientName + '</div>' +\r\n                            '<div><b>Time:</b> ';\r\n                            if (firstActualStart == undefined) {\r\n                                strAppend2 += convertDateToTime(estimatedStart);\r\n                            } else {\r\n                                strAppend2 += convertDateToTime(actualStart);\r\n                            }\r\n                            strAppend2 += ' - ';\r\n                            if (firstActualEnd == undefined) {\r\n                                strAppend2 += convertDateToTime(estimatedEnd);\r\n                            } else {\r\n                                strAppend2 += convertDateToTime(actualEnd);\r\n                            }\r\n                            strAppend2 += '</div></div>' +\r\n                            '<div class=\"mybuttonoverlap\">' +\r\n                            '<a data-toggle=\"tooltip\" title=\"View\" href=\"./viewScheduleItem.html?id=' + shiftId + '\" class=\"btn btn-info\"><i class=\"far fa-eye\"/></a>';\r\n                            if (shift[index].statusName == 'Preoperative') {\r\n                                strAppend2 += '<a id=\"changeScheduleA\" title=\"Change\" href=\"javascript:void(0)\" class=\"btn btn-primary\" data-priority=\"' + shift[index].priorityNumber +\r\n                                '\" data-schedule-index=\"' + shiftId + '\" data-start-datetime=\"' + formatStringtoDateTimeString(firstEstimatedStart) + '\" data-end-datetime=\"' + formatStringtoDateTimeString(firstEstimatedEnd) + '\" ' +\r\n                                'data-toggle=\"modal\" data-target=\"#changeTimeModal\"><i class=\"far fa-edit\"/></a>' +\r\n                                '<button title=\"Begin\" data-toggle=\"modal\" data-target=\"#changeIntraStatusModal\" class=\"btn btn-success\" onclick=\"appendIntraSurgeryShiftId(' + shiftId + ', \\'' + firstEstimatedStart + '\\', \\'' + firstEstimatedEnd + '\\')\">' + \r\n                                '<i class=\"fas fa-procedures\"></i></button>' +\r\n                                '</div>';\r\n                            }\r\n                            else if (shift[index].statusName == 'Intraoperative') {\r\n                                strAppend2 += '<button title=\"Complete\" class=\"btn btn-success\" onclick=\"appendPostSurgeryShiftId(' + shiftId + ', \\'' + firstActualStart + '\\', \\'' + firstEstimatedEnd + '\\')\" data-toggle=\"modal\" data-target=\"#changePostStatusModal\">' + \r\n                                '<i style=\"color: white\" class=\"far fa-check-square\"></i></button>' +\r\n                                '</div>';\r\n                            } else {\r\n                                strAppend2 += '</div>';\r\n                            }\r\n                            strAppend2 += '</div></a>';\r\n                        }\r\n                        $('#header-room-' + room[index].id).append(strAppend2);\r\n                    }\r\n                });\r\n                strAppend1 += '</div>';\r\n            }\r\n            divRoom.append(strAppend1);\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n// change status\r\nfunction startSurgeryShift(shiftId, actualStartTime) {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/SetIntraoperativeStatus?shiftId=' + shiftId + '&actualStartDateTime=' + actualStartTime,\r\n        method: 'post',\r\n        success: function(data) {\r\n            if (data == true) {\r\n                loadSurgeryRoom(convertDateToNumber(new Date($('#date-input').val())));\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n//Refresh Schedule\r\nfunction refreshSchedule(surgeryShiftId) {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/RefreshSurgeryShift?shiftId=' + surgeryShiftId,\r\n        method: 'post',\r\n        success: function(data) {\r\n            if (data) {\r\n                loadSurgeryRoom(convertDateToNumber(new Date($('#date-input').val())));\r\n            }\r\n            \r\n        }\r\n    })\r\n}\r\nfunction setPostStatus(surgeryShiftId, actualEndTime) {   \r\n    const roomPost = $('#roomPost').val();\r\n    const bedPost = $('#bedPost').val();\r\n    const nurseId =  $('#select-nurse').children('option:selected').attr('id');\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/SetPostoperativeStatus?shiftId=' + surgeryShiftId + \r\n        '&roomPost=' + roomPost + '&bedPost=' + bedPost + '&actualEndDateTime=' + actualEndTime + '&nurseId=' + nurseId,\r\n        method: 'post',\r\n        success: function(data) {\r\n            if (data) {\r\n                refreshSchedule(surgeryShiftId)\r\n            }\r\n            \r\n        }\r\n    })\r\n}\r\nfunction SetFinishedStatus(surgeryShiftId) {   \r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/SetFinishedStatus?shiftId=' + surgeryShiftId,\r\n        method: 'post',\r\n        success: function(data) {\r\n        }\r\n    })\r\n}\r\n\r\n//-----------------------------------\r\n// append surgery modal\r\nfunction appendIntraSurgeryShiftId(shiftId, start, end) {\r\n    $('#surgery-shift-intra-status').html(shiftId)\r\n    $('#surgery-shift-intra-status').data('shiftId', shiftId);\r\n    $('.estimated-start-time').html(formatStringtoDateTimeString(start));\r\n    $('.estimated-end-time').html(formatStringtoDateTimeString(end));\r\n    $('#surgery-shift-intra-status').data('day', end.split('T')[0]);\r\n}\r\nfunction appendPostSurgeryShiftId(shiftId, start, end) {\r\n    $('#surgery-shift-post-status').html(shiftId)\r\n    $('#surgery-shift-post-status').data('shiftId', shiftId);\r\n    $('.estimated-start-time').html(formatStringtoDateTimeString(start));\r\n    $('.estimated-end-time').html(formatStringtoDateTimeString(end));\r\n    $('#surgery-shift-post-status').data('day', end.split('T')[0]);\r\n    getNurse();\r\n}\r\n// -----------------------------------\r\n\r\nfunction LoadSurgeryShiftByRoomAndDate() {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftsByRoomAndDate/',\r\n        method: 'get',\r\n        data: { roomId: room[index].id, dayNumber: surgeryDay},\r\n        success: function(shift) {\r\n            for (let index = 0; index < shift.length; index++) {\r\n                strAppend += '<a href=\"./viewScheduleItem.html?Id=' + shift[index].id + '\"><div class=\"div-roomBodyItem\">' +\r\n                shift[index].catelogName +\r\n                'Patient: ' +  shift[index].patientName +\r\n                'Time: ' + shift[index].estimatedStartDateTime + '-' + shift[index].estimatedEndDateTime;\r\n                '</div></a>';\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nfunction loadSurgeryShiftDetail(surgeryShiftId) {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftDetail/',\r\n        method: 'get',\r\n        data: { shiftId: surgeryShiftId},\r\n        success: function(shift) {\r\n            console.log(shift);\r\n            $('#span-id').append(shift.id);\r\n            $('#span-name').append(shift.patientName);\r\n            $('#span-gender').append(shift.gender);\r\n            $('#span-age').append(shift.age);\r\n            $('#span-specialty').append(shift.speciality);\r\n            $('#span-surgery-name').append(shift.surgeryName);\r\n            $('#span-surgery-type').append(shift.surgeryType);\r\n            $('#span-start-time').data('start', shift.startTime);\r\n            $('#span-start-time').append(formatStringtoDateTimeString(shift.startTime));\r\n            $('#span-end-time').data('end', shift.endTime);\r\n            $('#span-end-time').append(formatStringtoDateTimeString(shift.endTime));\r\n            $('#textarea-procedure').append(shift.procedure);\r\n\r\n            $('#body-detail-shift').append('<tr></tr>');\r\n            if (shift.actualStartTime != null) {\r\n                $('#body-detail-shift').children().last().append(\r\n                    '<td><b>Actual Start Time:</b></td>' +\r\n                    '<td id=\"span-actual-start-time\">' + formatStringtoDateTimeString(shift.actualStartTime) + '</td>'\r\n                );\r\n            }\r\n            if (shift.actualEndTime != null) {\r\n                $('#body-detail-shift').children().last().append(\r\n                    '<td><b>Actual End Time:</b></td>' +\r\n                    '<td id=\"span-actual-end-time\">' + formatStringtoDateTimeString(shift.actualEndTime) + '</td>'\r\n                );\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nfunction makeSchedule() {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/MakeScheduleList',\r\n        method: 'get',\r\n        success: function(data) {\r\n            window.location.href = 'viewSchedule.html';\r\n        }\r\n    })\r\n}\r\n\r\nfunction loadSurgeryShiftNoSchedule() {\r\n    var div_shift = $('#div-shift-no-schedule');\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftsNoSchedule',\r\n        method: 'get',\r\n        success: function(data) {\r\n            if (data.length != 0) {\r\n                var container = '<table id=\"table-no-schedule\" class=\"table\"><thead><tr><th>No.</th><th>Shift ID</th>'\r\n                + '<th>Confirm Time</th><th>Proposed Time</th><th>Schedule Time</th>'\r\n                + '<th>Priority Number</th><th>ExpectedDuration</th></tr></thead>';\r\n                for (var i = 0; i < data.length; i++) {\r\n                    container += '<tr><td>' + (i + 1) + '</td>' \r\n                                + '<td>' +  data[i].surgeryShiftId + '</td>'\r\n                                + '<td>' + data[i].confirmDate.split('T')[0] + ' ' + data[i].confirmDate.split('T')[1].split('.')[0] + '</td>';\r\n                    if (data[i].proposedStartDateTime != undefined \r\n                        && data[i].proposedEndDateTime != undefined) {\r\n                        container += '<td>' + data[i].proposedStartDateTime.split('T')[0] \r\n                        + ' | ' + data[i].proposedStartDateTime.split('T')[1] + ' - ' \r\n                        + data[i].proposedEndDateTime.split('T')[1] + '</td>';\r\n                    } else {\r\n                        container += '<td>N/A</td>'\r\n                    }\r\n                    container += '<td>' + data[i].scheduleDate.split('T')[0] + '</td>'\r\n                                + '<td>' + data[i].priorityNumber + '</td>'\r\n                                + '<td>' + data[i].expectedSurgeryDuration + '</td></tr>';\r\n                }\r\n                container += '</table>';\r\n                div_shift.append(container);\r\n            } else {   \r\n                div_shift.append('<h2>Not found no schedule surgery shift</h2>');                   \r\n            }\r\n            \r\n        }\r\n    })\r\n}\r\n// function loadSurgeryShiftNoScheduleByProposedTime() {\r\n//     var div_shift = $('#div-shift-proposed');\r\n//     $.ajax({\r\n//         url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftNoScheduleByProposedTime',\r\n//         method: 'get',\r\n//         success: function(data) {\r\n//             var container = '<table class=\"table-no-schedule\"><thead><tr><th>No.</th><th>Shift ID</th>'\r\n//                             + '<th>Proposed Time</th><th>Schedule Time</th>'\r\n//                             + '<th>Priority Number</th></th><th>ExpectedDuration</th></tr></thead>';\r\n//             for (var i = 0; i < data.length; i++) {\r\n//                 container += '<tr><td>' + (i + 1) + '</td><td>' +  data[i].surgeryShiftId + '</td><td>';\r\n//                 if (data[i].proposedStartDateTime != undefined && data[i].proposedEndDateTime != undefined) {\r\n//                     container += data[i].proposedStartDateTime.split('T')[0] \r\n//                     + ' ' + data[i].proposedStartDateTime.split('T')[1] + ' - ' \r\n//                     + data[i].proposedEndDateTime.split('T')[1];\r\n//                 }\r\n//                 container += '</td><td>' + data[i].scheduleDate + '</td>'\r\n//                 + '<td>' + data[i].priorityNumber + '</td>'\r\n//                 + '<td>' + data[i].expectedSurgeryDuration + '</td></tr>';\r\n//             }\r\n//             container += '</table>';\r\n//             div_shift.append(container);\r\n//         }\r\n//     })\r\n//  }\r\nfunction checkSetPostStatus(surgeryId) {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/CheckPostStatus/',\r\n        method: 'get',\r\n        data: {shiftId: surgeryId},\r\n        success: function(data) {\r\n            if (data == 1) {\r\n                $('#checkSetPostStatus').show();\r\n            } \r\n            else if (data == 2) {\r\n                $('#btn-change-post-status').hide();    \r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nfunction CheckRecoveryStatus(surgeryId) {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/CheckRecoveryStatus/',\r\n        method: 'get',\r\n        data: {shiftId: surgeryId},\r\n        success: function(data) {\r\n            if (data == true) {\r\n                $('#btn-change-finished-status').show();\r\n            } \r\n            else {\r\n                $('#btn-change-finished-status').hide();\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nfunction appendChangeInfoShift(id, start, end) {\r\n    $('#change-shift-id').html(id);\r\n    $('#change-date').html(start.split(' ')[1]);\r\n    $('#change-start-time').html(start.split(' ')[0]);\r\n    $('#change-end-time').html(end.split(' ')[0])\r\n}\r\n\r\nfunction getScheduleByDay() {\r\n    var date = new Date($('#date-input').val());\r\n    loadSurgeryRoom(convertDateToNumber(date));\r\n}\r\n\r\n//Add emergency\r\nfunction AddEmergencyShift(startDatetime, endDatetime) {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/AddEmergencyShift/',\r\n        method: 'post',\r\n        dataType: 'json',\r\n        contentType: 'application/json',\r\n        data: JSON.stringify({\r\n            startTime: startDatetime,\r\n            endTime: endDatetime\r\n        }),\r\n        success: function(data) {\r\n            console.log(data);\r\n            if (data == true) {\r\n                alert('Success')\r\n                loadSurgeryRoom(convertDateToNumber(new Date($('#date-input').val())));\r\n            } \r\n            if (data == false) {\r\n                alert('Fail')\r\n            }\r\n        }\r\n    })\r\n}\r\n//---------------------------\r\n"]}