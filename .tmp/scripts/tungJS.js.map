<<<<<<< HEAD
{"version":3,"sources":["tungJS.js"],"names":["EBSMSLocal","loadSurgeryRoom","surgeryDay","strAppend1","divRoom","$","empty","ajax","url","method","success","room","index","name","id","data","roomId","dayNumber","shift","strAppend2","length","estimatedStart","Date","estimatedStartDateTime","estimatedEnd","estimatedEndDateTime","catalogName","patientName","convertDateToTime","priorityNumber","append","LoadSurgeryShiftByRoomAndDate","strAppend","catelogName","loadSurgeryShiftDetail","surgeryShiftId","shiftId","console","log","gender","age","speciality","surgeryName","surgeryType","startTime","endTime","procedure","makeSchedule","window","location","href","makeScheduleProposedTime","loadSurgeryShiftNoSchedule","div_shift","container","i","confirmDate","split","proposedStartDateTime","undefined","proposedEndDateTime","scheduleDate","expectedSurgeryDuration","loadSurgeryShiftNoScheduleByProposedTime","checkSetPostStatus","surgeryId","show","attr","hide","setPostStatus","roomPost","val","bedPost","alert","getScheduleByDay","date","convertDateToNumber","day","getDate","month","getMonth","year","getFullYear","dateNumber","join","hour","getHours","minute","getMinutes","formatInputDate","dateString","formatDateToDateTimeString","formatDateToString"],"mappings":"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","file":"tungJS.js","sourcesContent":["//Get room show UI\r\nvar EBSMSLocal = 'https://localhost:44372';\r\n\r\nfunction loadSurgeryRoom(surgeryDay) {\r\n    var strAppend1 = '';\r\n    var divRoom = $('#row-surgery-room');\r\n    divRoom.empty();\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryRooms/',\r\n        method: 'get',\r\n        success: function(room) {\r\n            for (let index = 0; index < room.length; index++) {\r\n                strAppend1 += '<div class=\"div-roomHeaderItem\"><div class=\"div-room-name\">' \r\n                + room[index].name + '</div><div id =\"header-room-' + room[index].id + '\"></div>';\r\n                $.ajax({\r\n                    url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftsByRoomAndDate/',\r\n                    method: 'get',\r\n                    data: { roomId: room[index].id, dayNumber: surgeryDay},\r\n                    success: function(shift) {\r\n                        var strAppend2 = '';\r\n                        for (let index = 0; index < shift.length; index++) {\r\n                            var estimatedStart = new Date(shift[index].estimatedStartDateTime);\r\n                            var estimatedEnd = new Date(shift[index].estimatedEndDateTime);\r\n                            if (estimatedEnd < new Date()) {\r\n                                strAppend2 += '<div style=\"background-color: #b2bec3\" class=\"div-roomBodyItem\">';\r\n                            }\r\n\r\n                            else {\r\n                                strAppend2 += '<div class=\"div-roomBodyItem\">';\r\n                            }   \r\n                            strAppend2 += '<div class=\"info-shift\"><div><b>' + shift[index].id + '</b></div>' +\r\n                            '<div><b>' + shift[index].catalogName + '</b></div>' +\r\n                            '<div><b>Patient:</b> ' +  shift[index].patientName + '</div>' +\r\n                            '<div><b>Time:</b> ' + convertDateToTime(estimatedStart) + ' - ' + convertDateToTime(estimatedEnd) + '</div></div>' +\r\n                            '<div class=\"mybuttonoverlap\"><a href=\"./viewScheduleItem.html?id=' + shift[index].id + \r\n                            '\" class=\"btn btn-info\">View<i class=\"far fa-eye\"/></a>';\r\n                            if (estimatedEnd < new Date()) {\r\n                                strAppend2 += '</div>';\r\n                            } else {\r\n                                strAppend2 += '<a href=\"javascript:void(0)\" class=\"btn btn-primary\" data-priority=\"' + shift[index].priorityNumber +'\" data-schedule-index=\"' + shift[index].id + \r\n                                '\" data-toggle=\"modal\" data-target=\"#changeTimeModal\">Change <i class=\"far fa-edit\"/></a></div>';\r\n                            }\r\n                            strAppend2 += '</div></a>';\r\n                        }\r\n                        $('#header-room-' + room[index].id).append(strAppend2);\r\n                    }\r\n                });\r\n                strAppend1 += '</div>';\r\n            }\r\n            divRoom.append(strAppend1);\r\n        }\r\n    });\r\n}\r\nfunction LoadSurgeryShiftByRoomAndDate() {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftsByRoomAndDate/',\r\n        method: 'get',\r\n        data: { roomId: room[index].id, dayNumber: surgeryDay},\r\n        success: function(shift) {\r\n            for (let index = 0; index < shift.length; index++) {\r\n                strAppend += '<a href=\"./viewScheduleItem.html?Id=' + shift[index].id + '\"><div class=\"div-roomBodyItem\">' +\r\n                shift[index].catelogName +\r\n                'Patient: ' +  shift[index].patientName +\r\n                'Time: ' + shift[index].estimatedStartDateTime + '-' + shift[index].estimatedEndDateTime;\r\n                '</div></a>';\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nfunction loadSurgeryShiftDetail(surgeryShiftId) {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftDetail/',\r\n        method: 'get',\r\n        data: { shiftId: surgeryShiftId},\r\n        success: function(shift) {\r\n            console.log(shift);\r\n            $('#span-id').append(shift.id);\r\n            $('#span-name').append(shift.patientName);\r\n            $('#span-gender').append(shift.gender);\r\n            $('#span-age').append(shift.age);\r\n            $('#span-specialty').append(shift.speciality);\r\n            $('#span-surgery-name').append(shift.surgeryName);\r\n            $('#span-surgery-type').append(shift.surgeryType);\r\n            $('#span-start-time').append(shift.startTime);\r\n            $('#span-end-time').append(shift.endTime);\r\n            $('#textarea-procedure').append(shift.procedure);\r\n        }\r\n    });\r\n}\r\n\r\nfunction makeSchedule() {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/MakeScheduleList',\r\n        method: 'get',\r\n    })\r\n    window.location.href = 'viewSchedule.html';\r\n}\r\n\r\n\r\nfunction makeScheduleProposedTime() {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/MakeScheduleProposedTime',\r\n        method: 'get',\r\n    })\r\n    window.location.href = 'viewSchedule.html';\r\n}\r\n\r\nfunction loadSurgeryShiftNoSchedule() {\r\n    var div_shift = $('#div-shift-no-schedule');\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftsNoSchedule',\r\n        method: 'get',\r\n        success: function(data) {\r\n            if (data.length != 0) {\r\n                var container = '<table id=\"table-no-schedule\" class=\"table\"><thead><tr><th>No.</th><th>Shift ID</th>'\r\n                + '<th>Confirm Time</th><th>Proposed Time</th><th>Schedule Time</th>'\r\n                + '<th>Priority Number</th><th>ExpectedDuration</th></tr></thead>';\r\n                for (var i = 0; i < data.length; i++) {\r\n                    container += '<tr><td>' + (i + 1) + '</td>' \r\n                                + '<td>' +  data[i].surgeryShiftId + '</td>'\r\n                                + '<td>' + data[i].confirmDate.split('T')[0] + ' ' + data[i].confirmDate.split('T')[1].split('.')[0] + '</td>';\r\n                    if (data[i].proposedStartDateTime != undefined \r\n                        && data[i].proposedEndDateTime != undefined) {\r\n                        container += '<td>' + data[i].proposedStartDateTime.split('T')[0] \r\n                        + ' | ' + data[i].proposedStartDateTime.split('T')[1] + ' - ' \r\n                        + data[i].proposedEndDateTime.split('T')[1] + '</td>';\r\n                    } else {\r\n                        container += '<td>N/A</td>'\r\n                    }\r\n                    container += '<td>' + data[i].scheduleDate.split('T')[0] + '</td>'\r\n                                + '<td>' + data[i].priorityNumber + '</td>'\r\n                                + '<td>' + data[i].expectedSurgeryDuration + '</td></tr>';\r\n                }\r\n                container += '</table>';\r\n                div_shift.append(container);\r\n            } else {   \r\n                div_shift.append('<h2>Not found no schedule surgery shift</h2>');                   \r\n            }\r\n            \r\n        }\r\n    })\r\n}\r\nfunction loadSurgeryShiftNoScheduleByProposedTime() {\r\n    var div_shift = $('#div-shift-proposed');\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftNoScheduleByProposedTime',\r\n        method: 'get',\r\n        success: function(data) {\r\n            var container = '<table class=\"table-no-schedule\"><thead><tr><th>No.</th><th>Shift ID</th>'\r\n                            + '<th>Proposed Time</th><th>Schedule Time</th>'\r\n                            + '<th>Priority Number</th></th><th>ExpectedDuration</th></tr></thead>';\r\n            for (var i = 0; i < data.length; i++) {\r\n                container += '<tr><td>' + (i + 1) + '</td><td>' +  data[i].surgeryShiftId + '</td><td>';\r\n                if (data[i].proposedStartDateTime != undefined && data[i].proposedEndDateTime != undefined) {\r\n                    container += data[i].proposedStartDateTime.split('T')[0] \r\n                    + ' ' + data[i].proposedStartDateTime.split('T')[1] + ' - ' \r\n                    + data[i].proposedEndDateTime.split('T')[1];\r\n                }\r\n                container += '</td>'\r\n                            // + '<td>' + data[i].priorityNumber + '</td>'\r\n                            + '<td>' + data[i].scheduleDate + '</td>'\r\n                + '<td>' + data[i].priorityNumber + '</td>'\r\n                + '<td>' + data[i].expectedSurgeryDuration + '</td></tr>';\r\n            }\r\n            container += '</table>';\r\n            div_shift.append(container);\r\n        }\r\n    })\r\n }\r\nfunction checkSetPostStatus(surgeryId) {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/CheckPostStatus/',\r\n        method: 'get',\r\n        data: {shiftId: surgeryId},\r\n        success: function(data) {\r\n            if (data == 1) {\r\n                $('#btn-change-post-status').show();\r\n            } \r\n            else if (data == 2) {\r\n                $('#btn-change-post-status').attr('style', 'cursor: not-allowed').attr('disabled', '');    \r\n            }\r\n            else {\r\n                $('#btn-change-post-status').hide();\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nfunction setPostStatus(surgeryShiftId) {   \r\n    const roomPost = $('#roomPost').val();\r\n    const bedPost = $('#bedPost').val();\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/SetPostoperativeStatus?shiftId=' + surgeryShiftId + \r\n        '&roomPost=' + roomPost + '&bedPost=' + bedPost,\r\n        method: 'post',\r\n        success: function(data) {\r\n            if (data == true) {\r\n                alert('Change postoperative status successfully!');\r\n            } else {\r\n                alert('Fail!');\r\n            }\r\n            checkSetPostStatus(surgeryShiftId)\r\n        }\r\n    })\r\n}\r\n\r\nfunction getScheduleByDay() {\r\n    var date = new Date($('#date-input').val());\r\n    loadSurgeryRoom(convertDateToNumber(date));\r\n}\r\nfunction convertDateToNumber(date) {\r\n    var day = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n    var month = date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1);\r\n    var year = date.getFullYear();\r\n    var dateNumber = [year, month, day].join('');\r\n    return dateNumber;\r\n}\r\nfunction convertDateToTime(date) {\r\n    var hour = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\r\n    var minute = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\r\n    return [hour, minute].join(':');\r\n}\r\nfunction formatInputDate(date) {\r\n    var day = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n    var month = date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1);\r\n    var year = date.getFullYear();\r\n    var dateString = [year, month, day].join('-');\r\n    return dateString;\r\n}\r\nfunction formatDateToDateTimeString(date) {\r\n    var day = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n    var month = date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1);\r\n    var year = date.getFullYear();\r\n    var dateString = [day, month, year].join('/');\r\n    return dateString;\r\n}\r\nfunction formatDateToString(date) {\r\n    var day = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n    var month = date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1);\r\n    var year = date.getFullYear();\r\n    var hour = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\r\n    var minute = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\r\n    return [hour, minute].join(':') + ' ' + [day, month, year].join('/')  ;\r\n}"]}
=======
{"version":3,"sources":["tungJS.js"],"names":["EBSMSLocal","loadSurgeryRoom","surgeryDay","strAppend1","divRoom","$","empty","ajax","url","method","success","room","index","name","id","data","roomId","dayNumber","shift","strAppend2","length","estimatedStart","Date","estimatedStartDateTime","estimatedEnd","estimatedEndDateTime","statusName","catalogName","patientName","convertDateToTime","priorityNumber","append","appendSurgeryShiftId","shiftId","html","LoadSurgeryShiftByRoomAndDate","strAppend","catelogName","loadSurgeryShiftDetail","surgeryShiftId","console","log","gender","age","speciality","surgeryName","surgeryType","startTime","endTime","procedure","makeSchedule","m_StringValue","makeScheduleProposedTime","window","location","href","loadSurgeryShiftNoSchedule","div_shift","container","i","confirmDate","split","proposedStartDateTime","undefined","proposedEndDateTime","scheduleDate","expectedSurgeryDuration","loadSurgeryShiftNoScheduleByProposedTime","checkSetPostStatus","surgeryId","show","attr","hide","setPostStatus","roomPost","val","bedPost","getScheduleByDay","date","convertDateToNumber","day","getDate","month","getMonth","year","getFullYear","dateNumber","join","hour","getHours","minute","getMinutes","formatInputDate","dateString","formatDateToDateTimeString","formatDateToString"],"mappings":";;AAAA;AACA,IAAIA,aAAa,yBAAjB;AACA;;AAEA,SAASC,eAAT,CAAyBC,UAAzB,EAAqC;AACjC,QAAIC,aAAa,EAAjB;AACA,QAAIC,UAAUC,EAAE,mBAAF,CAAd;AACAD,YAAQE,KAAR;AACAD,MAAEE,IAAF,CAAO;AACHC,aAAKR,aAAa,gCADf;AAEHS,gBAAQ,KAFL;AAGHC,iBAAS,iBAASC,IAAT,EAAe;AAAA,uCACXC,MADW;AAEhBT,8BAAc,gEACZQ,KAAKC,MAAL,EAAYC,IADA,GACO,8BADP,GACwCF,KAAKC,MAAL,EAAYE,EADpD,GACyD,UADvE;AAEAT,kBAAEE,IAAF,CAAO;AACHC,yBAAKR,aAAa,8CADf;AAEHS,4BAAQ,KAFL;AAGHM,0BAAM,EAAEC,QAAQL,KAAKC,MAAL,EAAYE,EAAtB,EAA0BG,WAAWf,UAArC,EAHH;AAIHQ,6BAAS,iBAASQ,KAAT,EAAgB;AACrB,4BAAIC,aAAa,EAAjB;AACA,6BAAK,IAAIP,UAAQ,CAAjB,EAAoBA,UAAQM,MAAME,MAAlC,EAA0CR,SAA1C,EAAmD;AAC/C,gCAAIS,iBAAiB,IAAIC,IAAJ,CAASJ,MAAMN,OAAN,EAAaW,sBAAtB,CAArB;AACA,gCAAIC,eAAe,IAAIF,IAAJ,CAASJ,MAAMN,OAAN,EAAaa,oBAAtB,CAAnB;AACA,gCAAIP,MAAMN,OAAN,EAAac,UAAb,IAA2B,eAA/B,EAAgD;AAC5CP,8CAAc,kEAAd;AACH,6BAFD,MAGK;AACDA,8CAAc,gCAAd;AACH;AACDA,0CAAc,qCAAqCD,MAAMN,OAAN,EAAaE,EAAlD,GAAuD,YAAvD,GACd,UADc,GACDI,MAAMN,OAAN,EAAae,WADZ,GAC0B,YAD1B,GAEd,uBAFc,GAEaT,MAAMN,OAAN,EAAagB,WAF1B,GAEwC,QAFxC,GAGd,oBAHc,GAGSC,kBAAkBR,cAAlB,CAHT,GAG6C,KAH7C,GAGqDQ,kBAAkBL,YAAlB,CAHrD,GAGuF,cAHvF,GAId,+BAJc,GAKd,sCALc,GAK2BN,MAAMN,OAAN,EAAaE,EALxC,GAK6C,oDAL3D;AAMA,gCAAII,MAAMN,OAAN,EAAac,UAAb,IAA2B,eAA/B,EAAgD;AAC5CP,8CAAc,QAAd;AACH,6BAFD,MAEO;AACHA,8CAAc,yEAAyED,MAAMN,OAAN,EAAakB,cAAtF,GAAsG,yBAAtG,GAAkIZ,MAAMN,OAAN,EAAaE,EAA/I,GACd,mFADc,GAEd,gEAFc,GAEqDI,MAAMN,OAAN,EAAaE,EAFlE,GAEuE,+HAFvE,GAGd,QAHA;AAIH;AACDK,0CAAc,YAAd;AACH;AACDd,0BAAE,kBAAkBM,KAAKC,MAAL,EAAYE,EAAhC,EAAoCiB,MAApC,CAA2CZ,UAA3C;AACH;AAhCE,iBAAP;AAkCAhB,8BAAc,QAAd;AAtCgB;;AACpB,iBAAK,IAAIS,SAAQ,CAAjB,EAAoBA,SAAQD,KAAKS,MAAjC,EAAyCR,QAAzC,EAAkD;AAAA,sBAAzCA,MAAyC;AAsCjD;AACDR,oBAAQ2B,MAAR,CAAe5B,UAAf;AACH;AA5CE,KAAP;AA8CH;;AAED;AACA,SAAS6B,oBAAT,CAA8BC,OAA9B,EAAuC;AACnC5B,MAAE,uBAAF,EAA2B6B,IAA3B,CAAgCD,OAAhC;AACA5B,MAAE,uBAAF,EAA2BU,IAA3B,CAAgC,SAAhC,EAA2CkB,OAA3C;AACH;AACD;;AAEA,SAASE,6BAAT,GAAyC;AACrC9B,MAAEE,IAAF,CAAO;AACHC,aAAKR,aAAa,8CADf;AAEHS,gBAAQ,KAFL;AAGHM,cAAM,EAAEC,QAAQL,KAAKC,KAAL,EAAYE,EAAtB,EAA0BG,WAAWf,UAArC,EAHH;AAIHQ,iBAAS,iBAASQ,KAAT,EAAgB;AACrB,iBAAK,IAAIN,UAAQ,CAAjB,EAAoBA,UAAQM,MAAME,MAAlC,EAA0CR,SAA1C,EAAmD;AAC/CwB,6BAAa,yCAAyClB,MAAMN,OAAN,EAAaE,EAAtD,GAA2D,kCAA3D,GACbI,MAAMN,OAAN,EAAayB,WADA,GAEb,WAFa,GAEEnB,MAAMN,OAAN,EAAagB,WAFf,GAGb,QAHa,GAGFV,MAAMN,OAAN,EAAaW,sBAHX,GAGoC,GAHpC,GAG0CL,MAAMN,OAAN,EAAaa,oBAHpE;AAIA;AACH;AACJ;AAZE,KAAP;AAcH;;AAED,SAASa,sBAAT,CAAgCC,cAAhC,EAAgD;AAC5ClC,MAAEE,IAAF,CAAO;AACHC,aAAKR,aAAa,sCADf;AAEHS,gBAAQ,KAFL;AAGHM,cAAM,EAAEkB,SAASM,cAAX,EAHH;AAIH7B,iBAAS,iBAASQ,KAAT,EAAgB;AACrBsB,oBAAQC,GAAR,CAAYvB,KAAZ;AACAb,cAAE,UAAF,EAAc0B,MAAd,CAAqBb,MAAMJ,EAA3B;AACAT,cAAE,YAAF,EAAgB0B,MAAhB,CAAuBb,MAAMU,WAA7B;AACAvB,cAAE,cAAF,EAAkB0B,MAAlB,CAAyBb,MAAMwB,MAA/B;AACArC,cAAE,WAAF,EAAe0B,MAAf,CAAsBb,MAAMyB,GAA5B;AACAtC,cAAE,iBAAF,EAAqB0B,MAArB,CAA4Bb,MAAM0B,UAAlC;AACAvC,cAAE,oBAAF,EAAwB0B,MAAxB,CAA+Bb,MAAM2B,WAArC;AACAxC,cAAE,oBAAF,EAAwB0B,MAAxB,CAA+Bb,MAAM4B,WAArC;AACAzC,cAAE,kBAAF,EAAsB0B,MAAtB,CAA6Bb,MAAM6B,SAAnC;AACA1C,cAAE,gBAAF,EAAoB0B,MAApB,CAA2Bb,MAAM8B,OAAjC;AACA3C,cAAE,qBAAF,EAAyB0B,MAAzB,CAAgCb,MAAM+B,SAAtC;AACH;AAhBE,KAAP;AAkBH;;AAED,SAASC,YAAT,GAAwB;AACpB7C,MAAEE,IAAF,CAAO;AACHC,aAAKR,aAAa,gCADf;AAEHS,gBAAQ,KAFL;AAGHC,iBAAS,iBAASK,IAAT,EAAe;AACpB;AACAV,cAAE,gCAAF,EAAoC6B,IAApC,CAAyCnB,KAAKoC,aAA9C;AACA;AACA;AACA;AACH;AATE,KAAP;AAWH;;AAGD,SAASC,wBAAT,GAAoC;AAChC/C,MAAEE,IAAF,CAAO;AACHC,aAAKR,aAAa,wCADf;AAEHS,gBAAQ;AAFL,KAAP;AAIA4C,WAAOC,QAAP,CAAgBC,IAAhB,GAAuB,mBAAvB;AACH;;AAED,SAASC,0BAAT,GAAsC;AAClC,QAAIC,YAAYpD,EAAE,wBAAF,CAAhB;AACAA,MAAEE,IAAF,CAAO;AACHC,aAAKR,aAAa,0CADf;AAEHS,gBAAQ,KAFL;AAGHC,iBAAS,iBAASK,IAAT,EAAe;AACpB,gBAAIA,KAAKK,MAAL,IAAe,CAAnB,EAAsB;AAClB,oBAAIsC,YAAY,yFACd,mEADc,GAEd,gEAFF;AAGA,qBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI5C,KAAKK,MAAzB,EAAiCuC,GAAjC,EAAsC;AAClCD,iCAAa,cAAcC,IAAI,CAAlB,IAAuB,OAAvB,GACC,MADD,GACW5C,KAAK4C,CAAL,EAAQpB,cADnB,GACoC,OADpC,GAEC,MAFD,GAEUxB,KAAK4C,CAAL,EAAQC,WAAR,CAAoBC,KAApB,CAA0B,GAA1B,EAA+B,CAA/B,CAFV,GAE8C,GAF9C,GAEoD9C,KAAK4C,CAAL,EAAQC,WAAR,CAAoBC,KAApB,CAA0B,GAA1B,EAA+B,CAA/B,EAAkCA,KAAlC,CAAwC,GAAxC,EAA6C,CAA7C,CAFpD,GAEsG,OAFnH;AAGA,wBAAI9C,KAAK4C,CAAL,EAAQG,qBAAR,IAAiCC,SAAjC,IACGhD,KAAK4C,CAAL,EAAQK,mBAAR,IAA+BD,SADtC,EACiD;AAC7CL,qCAAa,SAAS3C,KAAK4C,CAAL,EAAQG,qBAAR,CAA8BD,KAA9B,CAAoC,GAApC,EAAyC,CAAzC,CAAT,GACX,KADW,GACH9C,KAAK4C,CAAL,EAAQG,qBAAR,CAA8BD,KAA9B,CAAoC,GAApC,EAAyC,CAAzC,CADG,GAC2C,KAD3C,GAEX9C,KAAK4C,CAAL,EAAQK,mBAAR,CAA4BH,KAA5B,CAAkC,GAAlC,EAAuC,CAAvC,CAFW,GAEiC,OAF9C;AAGH,qBALD,MAKO;AACHH,qCAAa,cAAb;AACH;AACDA,iCAAa,SAAS3C,KAAK4C,CAAL,EAAQM,YAAR,CAAqBJ,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAT,GAA8C,OAA9C,GACC,MADD,GACU9C,KAAK4C,CAAL,EAAQ7B,cADlB,GACmC,OADnC,GAEC,MAFD,GAEUf,KAAK4C,CAAL,EAAQO,uBAFlB,GAE4C,YAFzD;AAGH;AACDR,6BAAa,UAAb;AACAD,0BAAU1B,MAAV,CAAiB2B,SAAjB;AACH,aAtBD,MAsBO;AACHD,0BAAU1B,MAAV,CAAiB,8CAAjB;AACH;AAEJ;AA9BE,KAAP;AAgCH;AACD,SAASoC,wCAAT,GAAoD;AAChD,QAAIV,YAAYpD,EAAE,qBAAF,CAAhB;AACAA,MAAEE,IAAF,CAAO;AACHC,aAAKR,aAAa,uDADf;AAEHS,gBAAQ,KAFL;AAGHC,iBAAS,iBAASK,IAAT,EAAe;AACpB,gBAAI2C,YAAY,8EACE,8CADF,GAEE,qEAFlB;AAGA,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI5C,KAAKK,MAAzB,EAAiCuC,GAAjC,EAAsC;AAClCD,6BAAa,cAAcC,IAAI,CAAlB,IAAuB,WAAvB,GAAsC5C,KAAK4C,CAAL,EAAQpB,cAA9C,GAA+D,WAA5E;AACA,oBAAIxB,KAAK4C,CAAL,EAAQG,qBAAR,IAAiCC,SAAjC,IAA8ChD,KAAK4C,CAAL,EAAQK,mBAAR,IAA+BD,SAAjF,EAA4F;AACxFL,iCAAa3C,KAAK4C,CAAL,EAAQG,qBAAR,CAA8BD,KAA9B,CAAoC,GAApC,EAAyC,CAAzC,IACX,GADW,GACL9C,KAAK4C,CAAL,EAAQG,qBAAR,CAA8BD,KAA9B,CAAoC,GAApC,EAAyC,CAAzC,CADK,GACyC,KADzC,GAEX9C,KAAK4C,CAAL,EAAQK,mBAAR,CAA4BH,KAA5B,CAAkC,GAAlC,EAAuC,CAAvC,CAFF;AAGH;AACDH,6BAAa;AACD;AADC,kBAEC,MAFD,GAEU3C,KAAK4C,CAAL,EAAQM,YAFlB,GAEiC,OAFjC,GAGX,MAHW,GAGFlD,KAAK4C,CAAL,EAAQ7B,cAHN,GAGuB,OAHvB,GAIX,MAJW,GAIFf,KAAK4C,CAAL,EAAQO,uBAJN,GAIgC,YAJ7C;AAKH;AACDR,yBAAa,UAAb;AACAD,sBAAU1B,MAAV,CAAiB2B,SAAjB;AACH;AAtBE,KAAP;AAwBF;AACF,SAASU,kBAAT,CAA4BC,SAA5B,EAAuC;AACnChE,MAAEE,IAAF,CAAO;AACHC,aAAKR,aAAa,gCADf;AAEHS,gBAAQ,KAFL;AAGHM,cAAM,EAACkB,SAASoC,SAAV,EAHH;AAIH3D,iBAAS,iBAASK,IAAT,EAAe;AACpB,gBAAIA,QAAQ,CAAZ,EAAe;AACXV,kBAAE,qBAAF,EAAyBiE,IAAzB;AACH,aAFD,MAGK,IAAIvD,QAAQ,CAAZ,EAAe;AAChBV,kBAAE,yBAAF,EAA6BkE,IAA7B,CAAkC,OAAlC,EAA2C,qBAA3C,EAAkEA,IAAlE,CAAuE,UAAvE,EAAmF,EAAnF;AACH,aAFI,MAGA;AACDlE,kBAAE,yBAAF,EAA6BmE,IAA7B;AACH;AACJ;AAdE,KAAP;AAgBH;;AAED,SAASC,aAAT,CAAuBlC,cAAvB,EAAuC;AACnC,QAAMmC,WAAWrE,EAAE,WAAF,EAAesE,GAAf,EAAjB;AACA,QAAMC,UAAUvE,EAAE,UAAF,EAAcsE,GAAd,EAAhB;AACAtE,MAAEE,IAAF,CAAO;AACHC,aAAKR,aAAa,+CAAb,GAA+DuC,cAA/D,GACL,YADK,GACUmC,QADV,GACqB,WADrB,GACmCE,OAFrC;AAGHnE,gBAAQ,MAHL;AAIHC,iBAAS,iBAASK,IAAT,EAAe;AACpBqD,+BAAmB7B,cAAnB;AACH;AANE,KAAP;AAQH;;AAED,SAASsC,gBAAT,GAA4B;AACxB,QAAIC,OAAO,IAAIxD,IAAJ,CAASjB,EAAE,aAAF,EAAiBsE,GAAjB,EAAT,CAAX;AACA1E,oBAAgB8E,oBAAoBD,IAApB,CAAhB;AACH;AACD,SAASC,mBAAT,CAA6BD,IAA7B,EAAmC;AAC/B,QAAIE,MAAMF,KAAKG,OAAL,KAAiB,EAAjB,GAAsB,MAAMH,KAAKG,OAAL,EAA5B,GAA6CH,KAAKG,OAAL,EAAvD;AACA,QAAIC,QAAQJ,KAAKK,QAAL,KAAkB,CAAlB,GAAsB,EAAtB,GAA2B,OAAOL,KAAKK,QAAL,KAAkB,CAAzB,CAA3B,GAA0DL,KAAKK,QAAL,KAAkB,CAAxF;AACA,QAAIC,OAAON,KAAKO,WAAL,EAAX;AACA,QAAIC,aAAa,CAACF,IAAD,EAAOF,KAAP,EAAcF,GAAd,EAAmBO,IAAnB,CAAwB,EAAxB,CAAjB;AACA,WAAOD,UAAP;AACH;AACD,SAASzD,iBAAT,CAA2BiD,IAA3B,EAAiC;AAC7B,QAAIU,OAAOV,KAAKW,QAAL,KAAkB,EAAlB,GAAuB,MAAMX,KAAKW,QAAL,EAA7B,GAA+CX,KAAKW,QAAL,EAA1D;AACA,QAAIC,SAASZ,KAAKa,UAAL,KAAoB,EAApB,GAAyB,MAAMb,KAAKa,UAAL,EAA/B,GAAmDb,KAAKa,UAAL,EAAhE;AACA,WAAO,CAACH,IAAD,EAAOE,MAAP,EAAeH,IAAf,CAAoB,GAApB,CAAP;AACH;AACD,SAASK,eAAT,CAAyBd,IAAzB,EAA+B;AAC3B,QAAIE,MAAMF,KAAKG,OAAL,KAAiB,EAAjB,GAAsB,MAAMH,KAAKG,OAAL,EAA5B,GAA6CH,KAAKG,OAAL,EAAvD;AACA,QAAIC,QAAQJ,KAAKK,QAAL,KAAkB,CAAlB,GAAsB,EAAtB,GAA2B,OAAOL,KAAKK,QAAL,KAAkB,CAAzB,CAA3B,GAA0DL,KAAKK,QAAL,KAAkB,CAAxF;AACA,QAAIC,OAAON,KAAKO,WAAL,EAAX;AACA,QAAIQ,aAAa,CAACT,IAAD,EAAOF,KAAP,EAAcF,GAAd,EAAmBO,IAAnB,CAAwB,GAAxB,CAAjB;AACA,WAAOM,UAAP;AACH;AACD,SAASC,0BAAT,CAAoChB,IAApC,EAA0C;AACtC,QAAIE,MAAMF,KAAKG,OAAL,KAAiB,EAAjB,GAAsB,MAAMH,KAAKG,OAAL,EAA5B,GAA6CH,KAAKG,OAAL,EAAvD;AACA,QAAIC,QAAQJ,KAAKK,QAAL,KAAkB,CAAlB,GAAsB,EAAtB,GAA2B,OAAOL,KAAKK,QAAL,KAAkB,CAAzB,CAA3B,GAA0DL,KAAKK,QAAL,KAAkB,CAAxF;AACA,QAAIC,OAAON,KAAKO,WAAL,EAAX;AACA,QAAIQ,aAAa,CAACb,GAAD,EAAME,KAAN,EAAaE,IAAb,EAAmBG,IAAnB,CAAwB,GAAxB,CAAjB;AACA,WAAOM,UAAP;AACH;AACD,SAASE,kBAAT,CAA4BjB,IAA5B,EAAkC;AAC9B,QAAIE,MAAMF,KAAKG,OAAL,KAAiB,EAAjB,GAAsB,MAAMH,KAAKG,OAAL,EAA5B,GAA6CH,KAAKG,OAAL,EAAvD;AACA,QAAIC,QAAQJ,KAAKK,QAAL,KAAkB,CAAlB,GAAsB,EAAtB,GAA2B,OAAOL,KAAKK,QAAL,KAAkB,CAAzB,CAA3B,GAA0DL,KAAKK,QAAL,KAAkB,CAAxF;AACA,QAAIC,OAAON,KAAKO,WAAL,EAAX;AACA,QAAIG,OAAOV,KAAKW,QAAL,KAAkB,EAAlB,GAAuB,MAAMX,KAAKW,QAAL,EAA7B,GAA+CX,KAAKW,QAAL,EAA1D;AACA,QAAIC,SAASZ,KAAKa,UAAL,KAAoB,EAApB,GAAyB,MAAMb,KAAKa,UAAL,EAA/B,GAAmDb,KAAKa,UAAL,EAAhE;AACA,WAAO,CAACH,IAAD,EAAOE,MAAP,EAAeH,IAAf,CAAoB,GAApB,IAA2B,GAA3B,GAAiC,CAACP,GAAD,EAAME,KAAN,EAAaE,IAAb,EAAmBG,IAAnB,CAAwB,GAAxB,CAAxC;AACH","file":"tungJS.js","sourcesContent":["//Get room show UI\r\nvar EBSMSLocal = 'https://localhost:44372';\r\n// var EBSMSLocal = 'http://172.20.10.7:5000';\r\n\r\nfunction loadSurgeryRoom(surgeryDay) {\r\n    var strAppend1 = '';\r\n    var divRoom = $('#row-surgery-room');\r\n    divRoom.empty();\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryRooms/',\r\n        method: 'get',\r\n        success: function(room) {\r\n            for (let index = 0; index < room.length; index++) {\r\n                strAppend1 += '<div class=\"div-roomHeaderItem\"><div class=\"div-room-name\">' \r\n                + room[index].name + '</div><div id =\"header-room-' + room[index].id + '\"></div>';\r\n                $.ajax({\r\n                    url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftsByRoomAndDate/',\r\n                    method: 'get',\r\n                    data: { roomId: room[index].id, dayNumber: surgeryDay},\r\n                    success: function(shift) {\r\n                        var strAppend2 = '';\r\n                        for (let index = 0; index < shift.length; index++) {\r\n                            var estimatedStart = new Date(shift[index].estimatedStartDateTime);\r\n                            var estimatedEnd = new Date(shift[index].estimatedEndDateTime);\r\n                            if (shift[index].statusName == 'Postoperative') {\r\n                                strAppend2 += '<div style=\"background-color: #b2bec3\" class=\"div-roomBodyItem\">';\r\n                            }\r\n                            else {\r\n                                strAppend2 += '<div class=\"div-roomBodyItem\">';\r\n                            }   \r\n                            strAppend2 += '<div class=\"info-shift\"><div><b>' + shift[index].id + '</b></div>' +\r\n                            '<div><b>' + shift[index].catalogName + '</b></div>' +\r\n                            '<div><b>Patient:</b> ' +  shift[index].patientName + '</div>' +\r\n                            '<div><b>Time:</b> ' + convertDateToTime(estimatedStart) + ' - ' + convertDateToTime(estimatedEnd) + '</div></div>' +\r\n                            '<div class=\"mybuttonoverlap\">' +\r\n                            '<a href=\"./viewScheduleItem.html?id=' + shift[index].id + '\" class=\"btn btn-info\"><i class=\"far fa-eye\"/></a>';\r\n                            if (shift[index].statusName == 'Postoperative') {\r\n                                strAppend2 += '</div>';\r\n                            } else {\r\n                                strAppend2 += '<a href=\"javascript:void(0)\" class=\"btn btn-primary\" data-priority=\"' + shift[index].priorityNumber +'\" data-schedule-index=\"' + shift[index].id + \r\n                                '\" data-toggle=\"modal\" data-target=\"#changeTimeModal\"><i class=\"far fa-edit\"/></a>' +\r\n                                '<button class=\"btn btn-success\" onclick=\"appendSurgeryShiftId(' + shift[index].id + ')\" data-toggle=\"modal\" data-target=\"#changePostStatusModal\"><i style=\"color: white\" class=\"far fa-check-square\"></i></button>' +\r\n                                '</div>';\r\n                            }\r\n                            strAppend2 += '</div></a>';\r\n                        }\r\n                        $('#header-room-' + room[index].id).append(strAppend2);\r\n                    }\r\n                });\r\n                strAppend1 += '</div>';\r\n            }\r\n            divRoom.append(strAppend1);\r\n        }\r\n    });\r\n}\r\n\r\n// Change status postoperative\r\nfunction appendSurgeryShiftId(shiftId) {\r\n    $('#surgery-shift-status').html(shiftId)\r\n    $('#surgery-shift-status').data('shiftId', shiftId);\r\n}\r\n// -----------------------------------\r\n\r\nfunction LoadSurgeryShiftByRoomAndDate() {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftsByRoomAndDate/',\r\n        method: 'get',\r\n        data: { roomId: room[index].id, dayNumber: surgeryDay},\r\n        success: function(shift) {\r\n            for (let index = 0; index < shift.length; index++) {\r\n                strAppend += '<a href=\"./viewScheduleItem.html?Id=' + shift[index].id + '\"><div class=\"div-roomBodyItem\">' +\r\n                shift[index].catelogName +\r\n                'Patient: ' +  shift[index].patientName +\r\n                'Time: ' + shift[index].estimatedStartDateTime + '-' + shift[index].estimatedEndDateTime;\r\n                '</div></a>';\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nfunction loadSurgeryShiftDetail(surgeryShiftId) {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftDetail/',\r\n        method: 'get',\r\n        data: { shiftId: surgeryShiftId},\r\n        success: function(shift) {\r\n            console.log(shift);\r\n            $('#span-id').append(shift.id);\r\n            $('#span-name').append(shift.patientName);\r\n            $('#span-gender').append(shift.gender);\r\n            $('#span-age').append(shift.age);\r\n            $('#span-specialty').append(shift.speciality);\r\n            $('#span-surgery-name').append(shift.surgeryName);\r\n            $('#span-surgery-type').append(shift.surgeryType);\r\n            $('#span-start-time').append(shift.startTime);\r\n            $('#span-end-time').append(shift.endTime);\r\n            $('#textarea-procedure').append(shift.procedure);\r\n        }\r\n    });\r\n}\r\n\r\nfunction makeSchedule() {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/MakeScheduleList',\r\n        method: 'get',\r\n        success: function(data) {\r\n            // console.log(data.m_StringValue);\r\n            $('#content-schedule-notification').html(data.m_StringValue);\r\n            // $(window).on('load', function() {\r\n            //     $('#modal-schedule-notification').modal('show');\r\n            // });\r\n        }\r\n    })\r\n}\r\n\r\n\r\nfunction makeScheduleProposedTime() {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/MakeScheduleProposedTime',\r\n        method: 'get',\r\n    })\r\n    window.location.href = 'viewSchedule.html';\r\n}\r\n\r\nfunction loadSurgeryShiftNoSchedule() {\r\n    var div_shift = $('#div-shift-no-schedule');\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftsNoSchedule',\r\n        method: 'get',\r\n        success: function(data) {\r\n            if (data.length != 0) {\r\n                var container = '<table id=\"table-no-schedule\" class=\"table\"><thead><tr><th>No.</th><th>Shift ID</th>'\r\n                + '<th>Confirm Time</th><th>Proposed Time</th><th>Schedule Time</th>'\r\n                + '<th>Priority Number</th><th>ExpectedDuration</th></tr></thead>';\r\n                for (var i = 0; i < data.length; i++) {\r\n                    container += '<tr><td>' + (i + 1) + '</td>' \r\n                                + '<td>' +  data[i].surgeryShiftId + '</td>'\r\n                                + '<td>' + data[i].confirmDate.split('T')[0] + ' ' + data[i].confirmDate.split('T')[1].split('.')[0] + '</td>';\r\n                    if (data[i].proposedStartDateTime != undefined \r\n                        && data[i].proposedEndDateTime != undefined) {\r\n                        container += '<td>' + data[i].proposedStartDateTime.split('T')[0] \r\n                        + ' | ' + data[i].proposedStartDateTime.split('T')[1] + ' - ' \r\n                        + data[i].proposedEndDateTime.split('T')[1] + '</td>';\r\n                    } else {\r\n                        container += '<td>N/A</td>'\r\n                    }\r\n                    container += '<td>' + data[i].scheduleDate.split('T')[0] + '</td>'\r\n                                + '<td>' + data[i].priorityNumber + '</td>'\r\n                                + '<td>' + data[i].expectedSurgeryDuration + '</td></tr>';\r\n                }\r\n                container += '</table>';\r\n                div_shift.append(container);\r\n            } else {   \r\n                div_shift.append('<h2>Not found no schedule surgery shift</h2>');                   \r\n            }\r\n            \r\n        }\r\n    })\r\n}\r\nfunction loadSurgeryShiftNoScheduleByProposedTime() {\r\n    var div_shift = $('#div-shift-proposed');\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/GetSurgeryShiftNoScheduleByProposedTime',\r\n        method: 'get',\r\n        success: function(data) {\r\n            var container = '<table class=\"table-no-schedule\"><thead><tr><th>No.</th><th>Shift ID</th>'\r\n                            + '<th>Proposed Time</th><th>Schedule Time</th>'\r\n                            + '<th>Priority Number</th></th><th>ExpectedDuration</th></tr></thead>';\r\n            for (var i = 0; i < data.length; i++) {\r\n                container += '<tr><td>' + (i + 1) + '</td><td>' +  data[i].surgeryShiftId + '</td><td>';\r\n                if (data[i].proposedStartDateTime != undefined && data[i].proposedEndDateTime != undefined) {\r\n                    container += data[i].proposedStartDateTime.split('T')[0] \r\n                    + ' ' + data[i].proposedStartDateTime.split('T')[1] + ' - ' \r\n                    + data[i].proposedEndDateTime.split('T')[1];\r\n                }\r\n                container += '</td>'\r\n                            // + '<td>' + data[i].priorityNumber + '</td>'\r\n                            + '<td>' + data[i].scheduleDate + '</td>'\r\n                + '<td>' + data[i].priorityNumber + '</td>'\r\n                + '<td>' + data[i].expectedSurgeryDuration + '</td></tr>';\r\n            }\r\n            container += '</table>';\r\n            div_shift.append(container);\r\n        }\r\n    })\r\n }\r\nfunction checkSetPostStatus(surgeryId) {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/CheckPostStatus/',\r\n        method: 'get',\r\n        data: {shiftId: surgeryId},\r\n        success: function(data) {\r\n            if (data == 1) {\r\n                $('#checkSetPostStatus').show();\r\n            } \r\n            else if (data == 2) {\r\n                $('#btn-change-post-status').attr('style', 'cursor: not-allowed').attr('disabled', '');    \r\n            }\r\n            else {\r\n                $('#btn-change-post-status').hide();\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nfunction setPostStatus(surgeryShiftId) {   \r\n    const roomPost = $('#roomPost').val();\r\n    const bedPost = $('#bedPost').val();\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Schedule/SetPostoperativeStatus?shiftId=' + surgeryShiftId + \r\n        '&roomPost=' + roomPost + '&bedPost=' + bedPost,\r\n        method: 'post',\r\n        success: function(data) {\r\n            checkSetPostStatus(surgeryShiftId)\r\n        }\r\n    })\r\n}\r\n\r\nfunction getScheduleByDay() {\r\n    var date = new Date($('#date-input').val());\r\n    loadSurgeryRoom(convertDateToNumber(date));\r\n}\r\nfunction convertDateToNumber(date) {\r\n    var day = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n    var month = date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1);\r\n    var year = date.getFullYear();\r\n    var dateNumber = [year, month, day].join('');\r\n    return dateNumber;\r\n}\r\nfunction convertDateToTime(date) {\r\n    var hour = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\r\n    var minute = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\r\n    return [hour, minute].join(':');\r\n}\r\nfunction formatInputDate(date) {\r\n    var day = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n    var month = date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1);\r\n    var year = date.getFullYear();\r\n    var dateString = [year, month, day].join('-');\r\n    return dateString;\r\n}\r\nfunction formatDateToDateTimeString(date) {\r\n    var day = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n    var month = date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1);\r\n    var year = date.getFullYear();\r\n    var dateString = [day, month, year].join('/');\r\n    return dateString;\r\n}\r\nfunction formatDateToString(date) {\r\n    var day = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n    var month = date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1);\r\n    var year = date.getFullYear();\r\n    var hour = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\r\n    var minute = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\r\n    return [hour, minute].join(':') + ' ' + [day, month, year].join('/')  ;\r\n}"]}
>>>>>>> 23634fe8b60945f51f4095a2ede21967435ca795
