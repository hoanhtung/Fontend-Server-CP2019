{"version":3,"sources":["linhJS.js"],"names":["EBSMSLocal","ExcelExport","event","input","target","reader","FileReader","onload","fileData","result","wb","XLSX","read","type","SheetNames","forEach","sheetName","rowObj","utils","sheet_to_row_object_array","Sheets","console","log","parseImportInfo","sessionStorage","setItem","JSON","stringify","readAsBinaryString","files","jsonObj","table","document","getElementById","getElementsByTagName","i","length","newRow","insertRow","rows","newColumn","insertCell","appendChild","createTextNode","a","createElement","href","setAttribute","saveSurgeryProfile","shift","parse","getItem","shiftInfo","sh","gender","proStartDate","proEndDate","undefined","day","start","split","end","push","Number","$","ajax","url","method","data","contentType","dataType","success","supplyList","supplyJson","s","medicalSupplyId","surgeryShiftCode","removeItem","alert","window","location","getImportDetail","id","messesage","supplyJSON","confirmSupply","surgeryShiftId","surgeryCode","confirmAllSupply","checkboxS","getElementsByClassName","checked","value","getMedicalRequest","checkBox","getMedicalRequestDetail"],"mappings":"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","file":"linhJS.js","sourcesContent":["var EBSMSLocal = 'https://localhost:44372';\r\n\r\nfunction ExcelExport(event) {\r\n    var input = event.target;\r\n    var reader = new FileReader();\r\n    reader.onload = function () {\r\n        var fileData = reader.result;\r\n        var wb = XLSX.read(fileData, { type: 'binary' });\r\n\r\n        wb.SheetNames.forEach(function (sheetName) {\r\n            var rowObj = XLSX.utils.sheet_to_row_object_array(wb.Sheets[sheetName]);\r\n\r\n            switch (sheetName) {\r\n                case 'SurgeryProfile':\r\n                console.log(rowObj);\r\n                    parseImportInfo(rowObj);\r\n                    sessionStorage.setItem('infoObj', JSON.stringify(rowObj));\r\n                    break;\r\n                case 'MedicalSupply':\r\n                    sessionStorage.setItem('supplyObj', JSON.stringify(rowObj));\r\n                    break;\r\n            }\r\n        })\r\n    };\r\n    reader.readAsBinaryString(input.files[0]);\r\n};\r\nfunction parseImportInfo(jsonObj) {\r\n    var table = document.getElementById('profile').getElementsByTagName('tbody')[0];\r\n    for (var i = 0; i < jsonObj.length; i++) {\r\n        var newRow = table.insertRow(table.rows.length);\r\n        var newColumn;\r\n\r\n        newColumn = newRow.insertCell(0);\r\n        // var checkBox = document.createElement(\"input\");\r\n        // checkBox.setAttribute(\"type\", \"checkbox\");\r\n        // checkBox.setAttribute(\"value\", jsonObj[i]['Surgery Shift Code']);\r\n        // checkBox.setAttribute(\"class\", \"checkbox\");\r\n        // newColumn.appendChild(checkBox);\r\n        newColumn = newRow.insertCell(1);\r\n        newColumn.appendChild(document.createTextNode(i + 1));\r\n        newColumn = newRow.insertCell(2);\r\n        var a = document.createElement('a');\r\n        a.appendChild(document.createTextNode(jsonObj[i]['Patient Name']));\r\n        a.href = '#';\r\n        a.setAttribute(\"onclick\", \"getImportDetail(\" + jsonObj[i]['Surgery Shift Code'] + \");\");\r\n        newColumn.appendChild(a);\r\n        newColumn = newRow.insertCell(3);\r\n        newColumn.appendChild(document.createTextNode(jsonObj[i]['Gender']));\r\n        newColumn = newRow.insertCell(4);\r\n        newColumn.appendChild(document.createTextNode(jsonObj[i]['Surgery Name']));\r\n        newColumn = newRow.insertCell(5);\r\n        if (jsonObj[i]['Expected Date'] == null && jsonObj[i]['Expected Time'] == null) {\r\n            newColumn.appendChild(document.createTextNode('N/A'));\r\n        }\r\n        else {\r\n            newColumn.appendChild(document.createTextNode(jsonObj[i]['Expected Date'] +\r\n            ' - ' + jsonObj[i]['Expected Time']));\r\n        }\r\n    }\r\n}\r\n\r\nfunction saveSurgeryProfile() {\r\n    var shift = JSON.parse(sessionStorage.getItem('infoObj'));\r\n    var shiftInfo = [];\r\n    for (var sh in shift) {\r\n        var gender = -1;\r\n        var proStartDate = '', proEndDate = '';\r\n        if (shift[sh]['Expected Date'] != undefined && shift[sh]['Expected Time'] != undefined) {\r\n            var day = shift[sh]['Expected Date'];\r\n            console.log(shift[sh]['Expected Time']);\r\n            var start = shift[sh]['Expected Time'].split(' - ')[0];\r\n            console.log(start);\r\n            var end = shift[sh]['Expected Time'].split(' - ')[1];\r\n            console.log(end);\r\n            proStartDate = day + ' ' + start;\r\n            proEndDate = day + ' ' + end;\r\n        }\r\n        if (shift[sh]['Gender'] == 'Male') gender = 1;\r\n        shiftInfo.push({\r\n            'expectedSurgeryDuration': shift[sh]['Surgery Weight'],\r\n            'priorityNumber': Number(shift[sh]['Priority']),\r\n            'patientID': shift[sh]['Patient Id'],\r\n            'patientName': shift[sh]['Patient Name'],\r\n            'gender': gender,\r\n            'yearOfBirth': Number(shift[sh]['Patient DOB']),\r\n            'surgeryCatalogID': Number(shift[sh]['Surgery Code']),\r\n            'surgeryShiftCode': shift[sh]['Surgery Shift Code'],\r\n            'surgeonId': Number(shift[sh]['SurgeonID']),\r\n            'proposedStartDateTime': proStartDate,\r\n            'proposedEndDateTime': proEndDate\r\n        })\r\n    }\r\n\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/Import/ImportSurgeryShift',\r\n        method: 'post',\r\n        data: JSON.stringify(shiftInfo),\r\n        contentType: 'application/json',\r\n        dataType: 'json',\r\n        success: function () {\r\n            var supplyList = JSON.parse(sessionStorage.getItem('supplyObj'));\r\n            var supplyJson = [];\r\n            for (var s in supplyList) {\r\n                supplyJson.push({\r\n                    medicalSupplyId: Number(supplyList[s]['Code']),\r\n                    surgeryShiftCode: supplyList[s]['Surgery Shift Code']\r\n                });\r\n            }\r\n            console.log(supplyJson);\r\n            $.ajax({\r\n                url: EBSMSLocal + '/api/Import/ImportSurgeryShiftMedicalSupply',\r\n                method: 'post',\r\n                data: JSON.stringify(supplyJson),\r\n                contentType: 'application/json',\r\n                dataType: 'json',\r\n                success: function () {\r\n                    sessionStorage.removeItem('infoObj');\r\n                    sessionStorage.removeItem('supplyObj');\r\n                    alert('Import successfully!')\r\n                    window.location.href = 'confirmMSRequest.html';\r\n                }\r\n            })\r\n\r\n        }\r\n    })\r\n}\r\n\r\nfunction getImportDetail(id) {\r\n    var messesage;\r\n    var supplyJSON = JSON.parse(sessionStorage.getItem('supplyObj'));\r\n    for (var i = 0; i < supplyJSON.length; i++) {\r\n        if (supplyJSON[i]['Surgery Shift Code'] == id) {\r\n            messesage = messesage + \"No.\" + (i + 1) + supplyJSON[i]['Code']\r\n                + \"\\t\" + supplyJSON[i]['Name'] + \"\\n\";\r\n        }\r\n    }\r\n    alert(messesage);\r\n}\r\n\r\n\r\n//Send confirm MS\r\nfunction confirmSupply() {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/MedicalConfirm/ConfirmMedicalRequest',\r\n        method: 'get',\r\n        data: { surgeryShiftId: surgeryCode }\r\n    })\r\n    window.location.href = 'confirmMSRequest.html';\r\n}\r\n\r\n\r\nfunction confirmAllSupply() {\r\n    var id = [];\r\n    var checkboxS = document.getElementsByClassName(\"checkbox\");\r\n    for (var i = 0; i < checkboxS.length; i++) {\r\n        if (checkboxS[i].checked) {\r\n            id.push({ id: Number(checkboxS[i].value) });\r\n        }\r\n    }\r\n    console.log(JSON.stringify(id));\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/MedicalConfirm/ConfirmMedicalRequest',\r\n        method: 'post',\r\n        data: JSON.stringify(id),\r\n        success: function () {\r\n            alert('success');\r\n            // window.location.href = 'confirmMSRequest.html';\r\n        }\r\n    })\r\n    window.location.href = 'viewSchedule.html';\r\n}\r\n//Get all medical supply request\r\nfunction getMedicalRequest() {\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/MedicalConfirm/GetAllMedicalSupplyRequest',\r\n        method: 'get',\r\n        success: function (data) {\r\n            var table = document.getElementById('request').getElementsByTagName('tbody')[0];\r\n            for (var i = 0; i < data.length; i++) {\r\n                var id = data[i]['id'];\r\n                var newRow = table.insertRow(table.rows.length);\r\n                var newColumn;\r\n                newColumn = newRow.insertCell(0);\r\n                var checkBox = document.createElement(\"input\");\r\n                checkBox.setAttribute(\"type\", \"checkbox\");\r\n                checkBox.setAttribute(\"value\", id);\r\n                checkBox.setAttribute(\"class\", \"checkbox\");\r\n                newColumn.appendChild(checkBox);\r\n                newColumn = newRow.insertCell(1);\r\n                newColumn.appendChild(document.createTextNode(data[i]['patientName']));\r\n                newColumn = newRow.insertCell(2);\r\n                newColumn.appendChild(document.createTextNode(data[i]['surgeryName']));\r\n                newColumn = newRow.insertCell(3);\r\n                newColumn.appendChild(document.createTextNode(data[i]['surgeryName']));\r\n                newColumn = newRow.insertCell(4);\r\n                var a = document.createElement('a');\r\n                a.href = \"#\";\r\n                a.appendChild(document.createTextNode(\"...\"));\r\n                a.setAttribute(\"onclick\", \"getMedicalRequestDetail(\" + id + \");\");\r\n                newColumn.appendChild(a);\r\n\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nfunction getMedicalRequestDetail(id) {\r\n    //get surgery code from url\r\n    $.ajax({\r\n        url: EBSMSLocal + '/api/MedicalConfirm/GetMedicalSupplyRequest',\r\n        method: 'get',\r\n        data: { surgeryShiftId: id },\r\n        success: function (data) {\r\n            var messesage = \"no\";\r\n            for (var i = 0; i < data.length; i++) {\r\n                messesage = messesage + \"no.\" + (i + 1) + \"\" + data[i][\"name\"] + \"\\n\";\r\n            }\r\n            alert(messesage);\r\n        }\r\n    })\r\n}"]}