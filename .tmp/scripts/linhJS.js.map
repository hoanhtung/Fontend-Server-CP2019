{"version":3,"sources":["linhJS.js"],"names":["EBSMSLocal","no","supplyJSON","infoJSON","getJSONfromSeesion","JSON","parse","sessionStorage","getItem","parseInfo","ExcelExport","event","input","target","reader","FileReader","onload","fileData","result","wb","XLSX","read","type","SheetNames","forEach","sheetName","rowObj","utils","sheet_to_row_object_array","Sheets","setItem","stringify","readAsBinaryString","files","jsonObj","console","log","table","document","getElementById","getElementsByTagName","i","length","newRow","insertRow","rows","newColumn","insertCell","a","createElement","appendChild","createTextNode","href","saveSurgeryProfile","alert","$","ajax","url","method","success","data","id","removeItem","deleteRecord","javascript","window","location","parseJSON","j","getImportDetail","url_string","URL","searchParams","get","confirmSupply","surgeryCode","getRequestDetail","innerHTML","surgeryShiftId","getMedicalRequest"],"mappings":"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","file":"linhJS.js","sourcesContent":["var EBSMSLocal = 'https://localhost:44372';\r\n\r\nvar no;\r\nvar supplyJSON;\r\nvar infoJSON;\r\n\r\nfunction getJSONfromSeesion() {\r\n    infoJSON = JSON.parse(sessionStorage.getItem(\"infoObj\"));\r\n    supplyJSON = JSON.parse(sessionStorage.getItem(\"supplyObj\"));\r\n    parseInfo(infoJSON);\r\n}\r\nfunction ExcelExport(event) {\r\n    var input = event.target;\r\n    var reader = new FileReader();\r\n    reader.onload = function () {\r\n        var fileData = reader.result;\r\n        var wb = XLSX.read(fileData, { type: 'binary' });\r\n\r\n        wb.SheetNames.forEach(function (sheetName) {\r\n            var rowObj = XLSX.utils.sheet_to_row_object_array(wb.Sheets[sheetName]);\r\n\r\n            switch (sheetName) {\r\n                case \"SurgeryProfile\":\r\n                    parseInfo(rowObj);\r\n                    infoJSON = rowObj;\r\n                    sessionStorage.setItem('infoObj', JSON.stringify(rowObj));\r\n                    break;\r\n                case \"MedicalSupply\":\r\n                    supplyJSON = rowObj;\r\n                    sessionStorage.setItem('supplyObj', JSON.stringify(rowObj));\r\n                    break;\r\n            }\r\n        })\r\n    };\r\n    reader.readAsBinaryString(input.files[0]);\r\n};\r\nfunction parseInfo(jsonObj) {\r\n    console.log(jsonObj);\r\n    var table = document.getElementById('profile').getElementsByTagName('tbody')[0];\r\n    for (var i = 0; i < jsonObj.length; i++) {\r\n        var newRow = table.insertRow(table.rows.length);\r\n        var newColumn;\r\n\r\n        newColumn = newRow.insertCell(0);\r\n        var a = document.createElement('a');\r\n        a.appendChild(document.createTextNode(jsonObj[i][\"Patient Name\"]));\r\n        a.href = \"importDetail.html?no=\" + jsonObj[i][\"Surgery Shift Code\"];\r\n        newColumn.appendChild(a);\r\n\r\n\r\n        newColumn = newRow.insertCell(1);\r\n        newColumn.appendChild(document.createTextNode(jsonObj[i][\"Gender\"]));\r\n        newColumn = newRow.insertCell(2);\r\n        newColumn.appendChild(document.createTextNode(jsonObj[i][\"Medical Record\"]));\r\n        newColumn = newRow.insertCell(3);\r\n        newColumn.appendChild(document.createTextNode(jsonObj[i][\"Surgery Name\"]));\r\n        newColumn = newRow.insertCell(4);\r\n        newColumn.appendChild(document.createTextNode(jsonObj[i][\"Surgeon Name\"]));\r\n        newColumn = newRow.insertCell(5);\r\n        newColumn.appendChild(document.createTextNode(jsonObj[i][\"Expected Date\"] +\r\n            \" - \" + jsonObj[i][\"Expected Time\"]));\r\n        newColumn = newRow.insertCell(6);\r\n        newColumn.appendChild(document.createTextNode(jsonObj[i][\"Surgery Weight\"]));\r\n    }\r\n}\r\n// done\r\n\r\n\r\nfunction saveSurgeryProfile() {\r\n    alert(\"Surgery Profile Saved\");\r\n    //TODO: call insert API\r\n    $.ajax({\r\n        url: EBSMSLocal + \"/api/MedicalConfirm/GetAllMedicalSupplyRequest\",\r\n        method: \"get\",\r\n        success: function (data) {\r\n            console.log(data[0].id);\r\n        }\r\n    })\r\n    sessionStorage.removeItem(\"infoObj\");\r\n    sessionStorage.removeItem(\"supplyObj\");\r\n    // window.location.replace(\"importList.html\");\r\n};\r\n\r\n\r\nfunction deleteRecord() {\r\n    supplyJSON = JSON.parse(sessionStorage.getItem(\"supplyObj\"));\r\n    infoJSON = JSON.parse(sessionStorage.getItem(\"infoObj\"));\r\n    for (var i = 0; i < infoJSON.length; i++) {\r\n        if (infoJSON[i][\"Surgery Shift Code\"] == no) {\r\n            delete infoJSON[i];\r\n            break;\r\n        }\r\n    }\r\n    for (var i = 0; i < supplyJSON.length; i++) {\r\n        if (supplyJSON[i][\"Surgery Shift Code\"] == no) {\r\n            delete supplyJSON[i];\r\n            i--;\r\n        }\r\n    }\r\n    sessionStorage.removeItem(\"infoJSON\");\r\n    sessionStorage.removeItem(\"supplyJSON\");\r\n    sessionStorage.setItem('infoObj', JSON.stringify(infoJSON));\r\n    sessionStorage.setItem('supplyJSON', JSON.stringify(supplyJSON));\r\n    javascript: window.location.href = 'importList.html';\r\n}\r\n\r\nfunction parseJSON(jsonObj) {\r\n    var table = document.getElementById('listSupply').getElementsByTagName('tbody')[0];\r\n    var j = 0;\r\n    for (var i = 0; i < supplyJSON.length; i++) {\r\n        if (supplyJSON[i][\"Surgery Shift Code\"] == no) {\r\n            var newRow = table.insertRow(table.rows.length);\r\n            var newColumn;\r\n\r\n            newColumn = newRow.insertCell(0);\r\n            newColumn.appendChild(document.createTextNode(++j));\r\n            newColumn = newRow.insertCell(1);\r\n            newColumn.appendChild(document.createTextNode(supplyJSON[i][\"Code\"]));\r\n            newColumn = newRow.insertCell(2);\r\n            newColumn.appendChild(document.createTextNode(supplyJSON[i][\"Name\"]));\r\n            newColumn = newRow.insertCell(3);\r\n            newColumn.appendChild(document.createTextNode(supplyJSON[i][\"Quantity\"]));\r\n        }\r\n    }\r\n}\r\n\r\nfunction getImportDetail() {\r\n    //get surgery code from url\r\n    var url_string = window.location.href;\r\n    var url = new URL(url_string);\r\n    no = url.searchParams.get(\"no\");\r\n\r\n    supplyJSON = JSON.parse(sessionStorage.getItem(\"supplyObj\"));\r\n    parseJSON(supplyJSON);\r\n}\r\n\r\nfunction confirmSupply() {\r\n    //TODO: send api with surgery code = surgeryCode;\r\n\r\n    javascript: window.location.href = 'confirmMSRequest.html';\r\n}\r\n\r\n// === JS for MEDICAL SUPPLY CONFIRM ===\r\n\r\n// CONFIRM DETAIL\r\nvar surgeryCode;\r\n\r\nfunction getRequestDetail() {\r\n    //get surgery code from url\r\n    var url_string = window.location.href;\r\n    var url = new URL(url_string);\r\n    surgeryCode = url.searchParams.get(\"code\");\r\n    document.getElementById(\"sid\").innerHTML = surgeryCode;\r\n    document.getElementById(\"name\").innerHTML = url.searchParams.get(\"sname\");\r\n    document.getElementById(\"patient\").innerHTML = url.searchParams.get(\"pname\");\r\n    $.ajax({\r\n        url: EBSMSLocal + \"/api/MedicalConfirm/GetMedicalSupplyRequest\",\r\n        method: \"get\",\r\n        data: { surgeryShiftId: surgeryCode },\r\n        success: function (data) {\r\n            var table = document.getElementById('listSupply').getElementsByTagName('tbody')[0];\r\n            for (var i = 0; i < data.length; i++) {\r\n                var newRow = table.insertRow(table.rows.length);\r\n                var newColumn;\r\n\r\n                newColumn = newRow.insertCell(0);\r\n                newColumn.appendChild(document.createTextNode(i + 1));\r\n                newColumn = newRow.insertCell(1);\r\n                newColumn.appendChild(document.createTextNode(data[i][\"code\"]));\r\n                newColumn = newRow.insertCell(2);\r\n                newColumn.appendChild(document.createTextNode(data[i][\"name\"]));\r\n                newColumn = newRow.insertCell(3);\r\n                newColumn.appendChild(document.createTextNode(data[i][\"quantity\"]));\r\n            }\r\n        }\r\n    })\r\n}\r\n//Send confirm MS\r\nfunction confirmSupply() {\r\n    $.ajax({\r\n        url: EBSMSLocal + \"/api/MedicalConfirm/ConfirmMedicalRequest\",\r\n        method: \"get\",\r\n        data: { surgeryShiftId: surgeryCode },\r\n        success: function (data) { }\r\n    })\r\n    window.location.href = 'confirmMSRequest.html';\r\n}\r\n\r\n//CONFIRM REQUEST\r\n//Get all medical supply request\r\nfunction getMedicalRequest() {\r\n    $.ajax({\r\n        url: EBSMSLocal + \"/api/MedicalConfirm/GetAllMedicalSupplyRequest\",\r\n        method: \"get\",\r\n        success: function (data) {\r\n            var table = document.getElementById('request').getElementsByTagName('tbody')[0];\r\n            for (var i = 0; i < data.length; i++) {\r\n                var newRow = table.insertRow(table.rows.length);\r\n                var newColumn;\r\n                newColumn = newRow.insertCell(0);\r\n                newColumn.appendChild(document.createTextNode(i + 1));\r\n\r\n                newColumn = newRow.insertCell(1);\r\n                var a = document.createElement('a');\r\n                a.appendChild(document.createTextNode(data[i][\"id\"]));\r\n                a.href = \"requestDetail.html?code=\" + data[i][\"id\"]\r\n                    + \"&sname=\" + data[i][\"surgeryName\"] + \"&pname=\" + data[i][\"patientName\"];\r\n                newColumn.appendChild(a);\r\n\r\n                newColumn = newRow.insertCell(2);\r\n                newColumn.appendChild(document.createTextNode(data[i][\"surgeryCatalogId\"]));\r\n                newColumn = newRow.insertCell(3);\r\n                newColumn.appendChild(document.createTextNode(data[i][\"surgeryName\"]));\r\n                newColumn = newRow.insertCell(4);\r\n                newColumn.appendChild(document.createTextNode(data[i][\"patientName\"]));\r\n                newColumn = newRow.insertCell(5);\r\n                newColumn.appendChild(document.createTextNode(data[i][\"createdDate\"]));\r\n            }\r\n        }\r\n    })\r\n}"]}